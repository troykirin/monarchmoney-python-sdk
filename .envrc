#!/usr/bin/env bash
# Federation Environment Configuration
# This file sets up the environment for the MonarchMoney Python library

# Python Environment
export PYTHONPATH="${PWD}:${PYTHONPATH}"

# Federation Configuration
export FEDERATION_NAMESPACE="monarchmoney"
export FEDERATION_ROLE="orchestrator"
export FEDERATION_PROJECT="monarch-api-client"

# Memory Layer Configuration
export MEMCHAIN_ENABLED="true"
export DOCKERGATEWAY_ENABLED="true"

# Development Environment
# MONARCH_ENV affects session TTL: development=1hr, production=15min
export MONARCH_ENV="development"
export MONARCH_LOG_LEVEL="INFO"
export MONARCH_TOKEN="your_token_here"
export LINEAR_API_KEY="your_linear_api_key_here"

# Test Configuration
export TEST_DATA_PATH="${PWD}/tests"
export MONARCH_SESSION_FILE="temp_session.pickle"

# Security Configuration (Never commit actual credentials)
export MONARCH_EMAIL="your_email@example.com"
export MONARCH_PASSWORD="your_password_here"
export MONARCH_MFA_SECRET="your_mfa_secret_here"

# API Configuration
export MONARCH_API_TIMEOUT="30"
export MONARCH_MAX_RETRIES="3"

# Development Tools
export BLACK_LINE_LENGTH="88"
export PYTEST_ADDOPTS="-v --tb=short"

# Load local overrides if they exist
if [ -f .envrc.local ]; then
    source .envrc.local
fi

echo "üèõÔ∏è MonarchMoney environment loaded"
echo "   Namespace: ${FEDERATION_NAMESPACE}"
echo "   Role: ${FEDERATION_ROLE}"
echo "   Environment: ${MONARCH_ENV}"
